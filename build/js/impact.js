(()=>{"use strict";async function e(e){try{await chrome.runtime.sendMessage(e)}catch(e){console.log("error sending message to service worker: ",e)}}function t(e){return e.replace(/\D/g,"")}let n=!1;chrome.storage.local.get("isEnabled",(({isEnabled:e})=>{n=e})),chrome.storage.onChanged.addListener(((e,t)=>{if(e.isEnabled){const{newValue:t}=e.isEnabled;n=t}})),document.addEventListener("contextmenu",(function(l){if(!n)return;const o=l.target;("phoneCallButton"===o.id||o.closest("#phoneCallButton")||"cellPhCallButton"===o.id||o.closest("#cellPhCallButton"))&&(l.preventDefault(),e({type:"makeCall",payload:t(o.href)}))}))})();