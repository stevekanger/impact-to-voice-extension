(()=>{"use strict";let e=!1;chrome.storage.local.get("isEnabled",(({isEnabled:t})=>{e=t})),chrome.storage.onChanged.addListener(((t,n)=>{if(t.isEnabled){const{newValue:n}=t.isEnabled;e=n}})),document.addEventListener("contextmenu",(function(t){if(!e)return;const n=t.target;if("phoneCallButton"===n.id||"cellPhCallButton"===n.id||n.closest("#phoneCallButton")||n.closest("#cellPhCallButton")){t.preventDefault();const e=n.closest("#phoneCallButton")||n.closest("#cellPhCallButton");if(!e)return;!async function(e){try{await chrome.runtime.sendMessage(e)}catch(e){console.log("error sending message to service worker: ",e)}}({type:"makeCall",payload:e.href.replace(/\D/g,"")})}}))})();