(()=>{"use strict";function e(e){return new Promise(((t,n)=>{const a=Date.now()+5e3,l=setInterval((()=>{document.querySelector(e)?(clearInterval(l),t(!0)):Date.now()>a&&(clearInterval(l),n())}),100)}))}chrome.runtime.onMessage.addListener(((t,n,a)=>{"makeCall"===t.type&&async function(t){try{const{isEnabled:n}=await chrome.storage.local.get("isEnabled");if(!n)return;document.getElementById("newCall").dispatchEvent(new Event("click",{bubbles:!0,cancelable:!0})),await e("#newCallRecipients");const a=document.getElementById("newCallRecipients"),l=document.getElementById("callButton");a.value=t,a.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),await e("#newCallRecipients.valid-recipient"),l.dispatchEvent(new Event("click",{bubbles:!0,cancelable:!0}))}catch(e){console.error(e)}}(t.payload)}))})();